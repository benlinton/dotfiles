# shellrc is sourced by both .bashrc and .zshrc
# Keep this file POSIX-compatible (no bash or zsh specific syntax)

# ------------------------------------------------------------------------------
# Prompt color
# ------------------------------------------------------------------------------
# Red for root, green for SSH sessions, blue for local workstations
if [ "$(id -u)" = "0" ]; then
  _PC=$(printf '\033[31m')   # red (root)
elif [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ] || [ -n "$SSH_CONNECTION" ]; then
  _PC=$(printf '\033[32m')   # green (SSH)
else
  _PC=$(printf '\033[34m')   # blue (local)
fi
_PR=$(printf '\033[0m')      # reset

# ------------------------------------------------------------------------------
# Editor
# ------------------------------------------------------------------------------
export EDITOR=vim

# ------------------------------------------------------------------------------
# History
# ------------------------------------------------------------------------------
export HISTSIZE=10000

# ------------------------------------------------------------------------------
# PATH (OPTIONAL)
# ------------------------------------------------------------------------------
# Add $HOME/.local/bin to front of PATH (if exists)
test -d "$HOME/.local/bin" && export PATH="$HOME/.local/bin:$PATH"

# ------------------------------------------------------------------------------
# pyenv (OPTIONAL)
# ------------------------------------------------------------------------------
if [ -d "$HOME/.pyenv" ]; then
  export PYENV_ROOT="$HOME/.pyenv"
  export PATH="$PYENV_ROOT/bin:$PATH"
  eval "$(pyenv init -)"
fi

# ------------------------------------------------------------------------------
# nvm (OPTIONAL)
# ------------------------------------------------------------------------------
if [ -s "/usr/local/opt/nvm/nvm.sh" ]; then
  export NVM_DIR="$HOME/.nvm"
  \. "/usr/local/opt/nvm/nvm.sh"
fi
