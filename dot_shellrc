# shellrc is sourced by both .bashrc and .zshrc
# Keep this file POSIX-compatible (no bash or zsh specific syntax)

# ------------------------------------------------------------------------------
# Prompt color
# ------------------------------------------------------------------------------
# _PROMPT_ID    = user@host color: red for root, yellow for remote (SSH), green for local
# _PROMPT_INFO  = path/context info color: always blue
# _PROMPT_RESET = reset color
if [ "$(id -u)" = "0" ]; then
  _PROMPT_ID=$(printf '\033[31m')    # red (root)
elif [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ] || [ -n "$SSH_CONNECTION" ]; then
  _PROMPT_ID=$(printf '\033[33m')    # yellow (remote)
else
  _PROMPT_ID=$(printf '\033[32m')    # green (local)
fi
_PROMPT_INFO=$(printf '\033[34m')    # blue
_PROMPT_RESET=$(printf '\033[0m')    # reset

# ------------------------------------------------------------------------------
# Editor
# ------------------------------------------------------------------------------
export EDITOR=vim

# ------------------------------------------------------------------------------
# History
# ------------------------------------------------------------------------------
export HISTSIZE=10000

# ------------------------------------------------------------------------------
# PATH (OPTIONAL)
# ------------------------------------------------------------------------------
# Add $HOME/.local/bin to front of PATH (if exists)
test -d "$HOME/.local/bin" && export PATH="$HOME/.local/bin:$PATH"

# ------------------------------------------------------------------------------
# pyenv (OPTIONAL)
# ------------------------------------------------------------------------------
if [ -d "$HOME/.pyenv" ]; then
  export PYENV_ROOT="$HOME/.pyenv"
  export PATH="$PYENV_ROOT/bin:$PATH"
  eval "$(pyenv init -)"
fi

# ------------------------------------------------------------------------------
# nvm (OPTIONAL)
# ------------------------------------------------------------------------------
if [ -s "/usr/local/opt/nvm/nvm.sh" ]; then
  export NVM_DIR="$HOME/.nvm"
  \. "/usr/local/opt/nvm/nvm.sh"
fi
